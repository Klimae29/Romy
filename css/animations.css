/* animations.css - Animations personnalisées pour le site ROMY */

/* Durées et délais standardisés */
:root {
  --anim-duration: 0.8s;
  --anim-base-delay: 0.15s;
  --anim-easing: cubic-bezier(0.25, 0.1, 0.25, 1);
  --fade-out-duration: 0.6s;
}

/* Animation du titre (apparaît de la gauche) */
.project-title-container {
  opacity: 0;
  transform: translateX(-60px);
  transition: opacity var(--anim-duration) var(--anim-easing),
              transform var(--anim-duration) var(--anim-easing);
  transition-delay: calc(var(--anim-base-delay) * 1);
}

/* Animation de sortie du titre (fondu uniquement, sans déplacement) */
.section:not(.active) .project-title-container {
  opacity: 0;
  transform: translateX(0); /* Pas de déplacement lors de la disparition */
  transition: opacity var(--fade-out-duration) var(--anim-easing);
  transition-property: opacity; /* Uniquement l'opacité */
  transition-delay: 0s;
}

/* Animation du lecteur vidéo (apparaît du haut et disparaît vers le bas) */
.project-video-container {
  opacity: 0;
  transform: translateY(-60px);
  transition: opacity var(--anim-duration) var(--anim-easing),
              transform var(--anim-duration) var(--anim-easing);
  transition-delay: calc(var(--anim-base-delay) * 2);
}

/* Animation pour la section inactive (disparition du lecteur vers le bas) */
.section:not(.active) .project-video-container {
  transform: translateY(60px);
  opacity: 0;
  transition: opacity var(--fade-out-duration) var(--anim-easing),
              transform var(--fade-out-duration) var(--anim-easing);
  transition-delay: 0s; /* Pas de délai pour la disparition */
}

/* Animation de la description (apparition ligne par ligne) */
.project-description {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity var(--anim-duration) var(--anim-easing),
              transform var(--anim-duration) var(--anim-easing);
}

/* Sélecteurs pour chaque ligne de la description */
.project-description-line {
  display: block;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity var(--anim-duration) var(--anim-easing),
              transform var(--anim-duration) var(--anim-easing);
}

/* Animation de sortie pour les descriptions */
.section:not(.active) .project-description,
.section:not(.active) .project-description-line {
  opacity: 0;
  transform: translateY(0); /* Pas de déplacement lors de la disparition */
  transition: opacity var(--fade-out-duration) var(--anim-easing);
  transition-property: opacity; /* Uniquement l'opacité */
  transition-delay: 0s;
}

/* Animation des lignes avec délais échelonnés */
.section.active .project-description-line:nth-child(1) {
  transition-delay: calc(var(--anim-base-delay) * 3);
}

.section.active .project-description-line:nth-child(2) {
  transition-delay: calc(var(--anim-base-delay) * 4);
}

.section.active .project-description-line:nth-child(3) {
  transition-delay: calc(var(--anim-base-delay) * 5);
}

/* États actifs pour toutes les animations */
.section.active .project-title-container,
.section.active .project-video-container,
.section.active .project-description,
.section.active .project-description-line {
  opacity: 1;
  transform: translate(0);
}

/* Animation de disparition pour le titre et la description */
.section:not(.active) .project-title-container,
.section:not(.active) .project-description,
.section:not(.active) .project-description-line {
  opacity: 0;
  transition: opacity var(--fade-out-duration) var(--anim-easing);
  transition-delay: 0s;
}

/* Animation d'indicateur de défilement */
.scroll-indicator {
  animation: pulsate 2s infinite;
  will-change: opacity, transform;
}

@keyframes pulsate {
  0% { opacity: 0.3; transform: translateY(0); }
  50% { opacity: 0.8; transform: translateY(-5px); }
  100% { opacity: 0.3; transform: translateY(0); }
}

/* Transition de section */
.section {
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.8s var(--anim-easing),
              visibility 0s linear 0.8s;
  will-change: opacity, visibility;
}

.section.active {
  opacity: 1;
  visibility: visible;
  transition: opacity 0.8s var(--anim-easing),
              visibility 0s linear;
}

/* Amélioration de la transition de couleur de fond */
body {
  transition: background-color 1.2s ease;
  will-change: background-color;
}

/* État initial de chargement du site */
body:not(.loaded) .section {
  opacity: 0;
}

body.loaded .section.active {
  opacity: 1;
}

/* Améliorations pour la fluidité des transitions */
body, .section, .project-title-container,
.project-video-container, .project-description {
  backface-visibility: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
